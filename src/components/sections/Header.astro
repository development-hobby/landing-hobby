---
import Crown from '../icons/Crown.astro'
import Hobby from '../icons/Hobby.astro'
import CountMinor from './CountMinor.astro'
import Link from '../Link.astro'
import MenuIcons from '../icons/Menu.astro'
import PlayStore from '../icons/PlayStore.astro'
---

<header class='header_bg w-screen relative h-screen'>
  <nav
    class='flex flex-row justify-between py-14 px-14 max-sm:px-5 max-sm:w-full items-center'
  >
    <a href={Astro.url}>
      <Hobby class='hover:scale-110 transition-all' />
    </a>
    <ul class='flex flex-row gap-x-5 max-sm:hidden'>
      <!-- <Link
        href='/blog'
        title='Blog'
        class='hover:outline hover:outline-1 hover:outline-white/60 outline-offset-2 rounded-lg'
      /> -->
      <Link
        href='#function'
        title='Funciones'
        class='hover:outline hover:outline-1 hover:outline-white/60 outline-offset-2 rounded-lg'
      />
      <Link
        href='#concern'
        class='hover:outline hover:outline-1 hover:outline-white/60 outline-offset-2 rounded-lg'
        title='Inquietudes'
      />
      <Link
        href='#content'
        title='Contenido'
        class='hover:outline hover:outline-1 hover:outline-white/60 outline-offset-2 rounded-lg'
      />
      <Link
        href='#footer'
        title='Fundadores'
        class='hover:outline hover:outline-1 hover:outline-white/60 outline-offset-2 rounded-lg'
      />
    </ul>
    <button id='button-context' class='max-sm:block z-50 hidden'>
      <MenuIcons />
    </button>
  </nav>

  <nav
    id='context-menu'
    class='disable-menu w-[100%] transition-all duration-300 flex flex-row z-30 h-full right fixed top-0'
  >
    <div class='px-5 py-10 h-full items-end backdrop-blur-sm w-[70%]'>
      <ul class='gap-y-5 flex flex-col'>
        <Link href='#function' title='Funciones' />
        <Link href='#concern' title='Inquietudes' />
        <Link href='#content' title='Contenido' />
        <Link href='#footer' title='Fundadores' />
      </ul>
    </div>
    <div id='backdrop-context-menu' class='h-full z-50 w-[30%]'></div>
  </nav>

  <section
    class='mx-auto w-[70%] max-sm:w-full relative items-center p-10 justify-center flex mt-8 flex-col'
  >
    <Crown
      class='stroke-white absolute top-0 left-[26%] max-sm:left-[10%] -rotate-12'
    />
    <h1
      class='h1_welcome font-Baloo text-[50px] max-sm:text-4xl text-center font-extrabold mt-4 uppercase'
    >
      Bienvenido a <span class='hobby_linear font-extrabold'>Hobby</span>
    </h1>
    <p
      class='w-[50%] mt-5 max-sm:w-full max-sm:text-base max-sm:mt-10 text-lg text-center opacity-80'
    >
      ¡Comparte tus pasiones con el mundo y conéctate con millones de personas a
      través de tus pasatiempos favoritos! ¡Descarga nuestra aplicación muy
      pronto!
    </p>
    <div
      class='w-[70%] h-[200px] flex items-center justify-center text-center mt-10 max-sm:mt-14'
    >
      <CountMinor />
      <!-- <a href='' target='_blank'>
        <PlayStore />
      </a> -->
    </div>
  </section>
</header>

<script>
  const $buttonMenu = document.querySelector(
    '#button-context'
  ) as HTMLButtonElement
  const $containerMenu = document.querySelector(
    '#context-menu'
  ) as HTMLDivElement
  $buttonMenu.addEventListener('click', () => {
    if ($containerMenu.classList.contains('menu-visible')) {
      $containerMenu.classList.remove('menu-visible')
      $containerMenu.classList.add('disable-menu')
    } else {
      $containerMenu.classList.remove('disable-menu')
      $containerMenu.classList.add('menu-visible')
    }
  })
  const $backdropMenu = $containerMenu.querySelector(
    '#backdrop-context-menu'
  ) as HTMLDivElement
  $backdropMenu?.addEventListener('click', () => {
    $containerMenu.classList.remove('menu-visible')
    $containerMenu.classList.add('disable-menu')
  })
</script>

<style>
  .disable-menu {
    transform: translateX(-72%);
    display: none;
  }

  .menu-visible {
    display: flex;
    transform: translateX(0);
  }

  .header_bg {
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
    background-image: url(/public/linear-gradient/linear-header.webp);
  }
  .h1_welcome {
    font-family: 'Baloo 2 Variable', system-ui;
  }
  .hobby_linear {
    font-family: 'Baloo 2 Variable', system-ui;
    background: linear-gradient(to left, #8700c7, #f97124, #f9d423);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }
</style>
